<!-- /C:/Users/Public/Proyectos/angular/gifs-app/src/app/gifs/pages/search-page/search-page.html -->
<div class="w-full max-w-3xl bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
  <header class="mb-6">
    <h1 class="text-2xl font-semibold text-gray-800 dark:text-gray-100">Search GIFs</h1>
    <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
      Type a query and press Search or Enter.
    </p>
  </header>

  <div class="flex gap-3">
    <label for="query" class="sr-only">Search query</label>
    <input
      id="query"
      #searchInput
      type="search"
      (keyup.enter)="searchInput.value && onSearch(searchInput.value)"
      autocomplete="off"
      placeholder="e.g. cats, funny, reaction..."
      class="flex-1 px-4 py-2 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-400"
    />

    <button
      (click)="onSearch(searchInput.value)"
      class="inline-flex items-center px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white font-medium focus:outline-none focus:ring-2 focus:ring-indigo-400"
    >
      Search
    </button>
  </div>

  <!-- Loading state -->
  @if (isLoading()) {
  <div class="mt-6 flex items-center gap-3 text-sm text-gray-500 dark:text-gray-300">
    <svg
      class="w-5 h-5 animate-spin text-indigo-600"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
    >
      <circle
        class="opacity-25"
        cx="12"
        cy="12"
        r="10"
        stroke="currentColor"
        stroke-width="4"
      ></circle>
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
    </svg>
    Searching...
  </div>
  }

  <!-- No results isLoading  && (!gifs() || gifs().length === 0)-->
  @if (imageSources().length === 0) {
  <div class="mt-6 text-center text-sm text-gray-500 dark:text-gray-400">
    No GIFs found. Try another search term.
  </div>
  }
</div>

<!-- Results grid -->
<div class="mt-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
  @for (gif of imageSources(); track gif.url) {
  <div class="rounded overflow-hidden bg-gray-100 dark:bg-gray-900">
    <img [src]="gif.url" [alt]="gif.title || 'gif'" class="w-full h-40 object-cover" />
  </div>
  }
</div>
